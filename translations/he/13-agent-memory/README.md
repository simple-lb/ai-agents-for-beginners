# זיכרון לסוכני בינה מלאכותית  
[![Agent Memory](../../../translated_images/he/lesson-13-thumbnail.959e3bc52d210c64.webp)](https://youtu.be/QrYbHesIxpw?si=qNYW6PL3fb3lTPMk)

כשמדברים על היתרונות הייחודיים ביצירת סוכני בינה מלאכותית, שני דברים עיקריים נדונים: היכולת לקרוא לכלים לביצוע משימות והיכולת להשתפר עם הזמן. הזיכרון הוא היסוד ליצירת סוכן שמשתפר בעצמו ויכול ליצור חוויות טובות יותר למשתמשים שלנו.

בשיעור זה נבחן מהו זיכרון עבור סוכני בינה מלאכותית ואיך ניתן לנהל ולנצל אותו לטובת היישומים שלנו.

## מבוא

השיעור יכסה:

• **הבנת זיכרון סוכני בינה מלאכותית**: מהו זיכרון ולמה הוא חיוני לסוכנים.

• **יישום ואחסון זיכרון**: שיטות מעשיות להוספת יכולות זיכרון לסוכני ה-AI שלכם, בדגש על זיכרון לטווח קצר ולטווח ארוך.

• **הפיכת סוכני בינה מלאכותית למשתפרים בעצמם**: כיצד הזיכרון מאפשר לסוכנים ללמוד מאינטראקציות קודמות ולשפר את עצמם לאורך זמן.

## יישומים זמינים

השיעור כולל שני מדריכים מקיפים בפורמט מחברות:

• **[13-agent-memory.ipynb](./13-agent-memory.ipynb)**: מיישם זיכרון באמצעות Mem0 ו-Azure AI Search במסגרת Semantic Kernel

• **[13-agent-memory-cognee.ipynb](./13-agent-memory-cognee.ipynb)**: מיישם זיכרון מובנה באמצעות Cognee, הבונה באופן אוטומטי גרף ידע מגובה בהטמעות, ממצג גרף, ואחזור אינטליגנטי

## מטרות הלמידה

בסיום שיעור זה, תדעו כיצד:

• **להבחין בין סוגי שונים של זיכרון לסוכני בינה מלאכותית**, כולל זיכרון עבודה, זיכרון לטווח קצר ולטווח ארוך, וכן צורות ממוקדות כמו זיכרון פרסונלי ואפיזודי.

• **ליישם ולנהל זיכרון לטווח קצר ולטווח ארוך לסוכני בינה מלאכותית** באמצעות מסגרת Semantic Kernel, תוך שימוש בכלים כמו Mem0, Cognee, זיכרון Whiteboard, ושילוב עם Azure AI Search.

• **להבין את העקרונות שמאחורי סוכנים משתפרים עצמם** ואיך מערכות ניהול זיכרון חזקות תורמות ללמידה ולהסתגלות מתמשכות.

## הבנת זיכרון סוכני בינה מלאכותית

בבסיסו, **זיכרון לסוכני בינה מלאכותית מתייחס למנגנונים שמאפשרים להם לשמור ולזכור מידע**. מידע זה יכול להיות פרטים ספציפיים על שיחה, העדפות משתמש, פעולות קודמות, ואפילו תבניות שנלמדו.

ללא זיכרון, יישומי AI הם לרוב חסרי מצב, כלומר כל אינטראקציה מתחילה מאפס. זה מוביל לחוויית משתמש חוזרת ומתסכלת שבה הסוכן "שוכח" הקשר או העדפות קודמים.

### למה זיכרון חשוב?

החכמה של הסוכן קשורה עמוקות ביכולתו לזכור ולנצל מידע קודם. זיכרון מאפשר לסוכנים להיות:

• **השתקפותיים**: לומדים מפעולות ותוצאות קודמות.

• **אינטראקטיביים**: שומרים על הקשר במהלך שיחה מתמשכת.

• **פרואקטיביים ותגובתיים**: צופים צורך או מגיבים בהתאם לנתונים היסטוריים.

• **אוטונומיים**: פועלים באופן עצמאי יותר על ידי אינטגרציה של ידע מאוחסן.

המטרה ביישום זיכרון היא להפוך את הסוכנים ליותר **אמינים ויעילים**.

### סוגי זיכרון

#### זיכרון עבודה

חשבו על זה כמחברת טיוטא שהסוכן משתמש בה במהלך משימה או תהליך מחשבה מתמשך. הוא מחזיק מידע מיידי הדרוש לחישוב הצעד הבא.

לסוכני בינה מלאכותית, זיכרון עבודה לרוב קולט את המידע הרלוונטי ביותר מהשיחה, גם אם כל היסטוריית השיחה ארוכה או מקוצרת. הוא מתמקד בחילוץ אלמנטים מרכזיים כמו דרישות, הצעות, החלטות ופעולות.

**דוגמת זיכרון עבודה**

בסוכן הזמנת טיולים, זיכרון עבודה עשוי לתפוס את הבקשה הנוכחית של המשתמש, כמו "אני רוצה להזמין טיול לפריז". דרישה ספציפית זו נשמרת בהקשר המיידי של הסוכן כדי לכוון את האינטראקציה הנוכחית.

#### זיכרון לטווח קצר

סוג זיכרון זה שומר מידע לאורך שיחה אחת או סשן יחיד. הוא מהווה את ההקשר של השיחה הנוכחית, ומאפשר לסוכן להפנות בחזרה לסיבובים קודמים בדיאלוג.

**דוגמת זיכרון לטווח קצר**

אם משתמש שואל, "כמה עולה טיסה לפריז?" ואז ממשיך ב-"מה בנוגע למלון שם?", זיכרון לטווח קצר מבטיח שהסוכן יודע ש"שם" מתייחס ל"פריז" באותה שיחה.

#### זיכרון לטווח ארוך

מידע זה נשמר במשך מספר שיחות או סשנים. הוא מאפשר לסוכנים לזכור העדפות משתמש, אינטראקציות היסטוריות, או ידע כללי לתקופות ממושכות. זה חשוב להתאמה אישית.

**דוגמת זיכרון לטווח ארוך**

זיכרון לטווח ארוך יכול לשמור שמידע על "בן נהנה מסקי ופעילויות חוץ, אוהב קפה עם נוף הררי, ורוצה להימנע ממורדות סקי מתקדמים עקב פציעה בעבר". מידע זה, שנלמד מאינטראקציות קודמות, משפיע על המלצות בתכנון טיולים עתידי, מה שהופך אותן לאישיות מאוד.

#### זיכרון פרסונלי

סוג זיכרון מיוחד זה עוזר לסוכן לפתח "אישיות" או "פרסונה" עקבית. הוא מאפשר לסוכן לזכור פרטים אודות עצמו או תפקידו המיועד, מה שיוצר אינטראקציות זורמות וממוקדות יותר.

**דוגמת זיכרון פרסונלי**  
אם הסוכן לתכנון טיולים מיועד להיות "מומחה בתכנון סקי", זיכרון הפרסונה עשוי לחזק תפקיד זה, ולהשפיע על תגובותיו כך שיתאימו לטון וידע של מומחה.

#### זיכרון תהליכים/אפיזודי

זיכרון זה שומר את רצף הצעדים שהסוכן מבצע במהלך משימה מורכבת, כולל הצלחות וכישלונות. הוא דומה לזכירת "פרקים" או חוויות קודמות כדי ללמוד מהן.

**דוגמת זיכרון אפיזודי**

אם הסוכן ניסה להזמין טיסה מסוימת והיא נכשלה עקב חוסר זמינות, הזיכרון האפיזודי יכול לתעד את הכישלון, לאפשר לסוכן לנסות טיסות חלופיות או ליידע את המשתמש על הבעיה בצורה מושכלת בניסיון הבא.

#### זיכרון ישויות

זה כרוך בחילוץ וזכירת ישויות ספציפיות (כמו אנשים, מקומות או דברים) ואירועים משיחות. הוא מאפשר לסוכן לבנות הבנה מבנית של אלמנטים מרכזיים שנדונו.

**דוגמת זיכרון ישויות**

משיחה על טיול בעבר, הסוכן עשוי לחלץ את "פריז", "מגדל אייפל" ו"ארוחת ערב במסעדת Le Chat Noir" כישויות. באינטראקציה עתידית, הסוכן יכול לזכור את "Le Chat Noir" ולהציע לבצע הזמנה חדשה שם.

#### RAG מובנה (Retrieval Augmented Generation)

בעוד ש-RAG היא טכניקה רחבה, "RAG מובנה" מודגש כטכנולוגיית זיכרון חזקה. הוא מחלץ מידע צפוף ומובנה ממקורות שונים (שיחות, אימיילים, תמונות) ומשתמש בו לשיפור הדיוק, הזכירה, והמהירות בתגובות. בניגוד ל-RAG הקלאסי שמתבסס רק על דמיון סמנטי, RAG מובנה עובד עם המבנה הטבוע של המידע.

**דוגמת RAG מובנה**

במקום רק להתאים מילות מפתח, RAG מובנה יכול לפרק פרטי טיסה (יעד, תאריך, שעה, חברת תעופה) מאימייל ולאחסן אותם בצורה מובנית. זה מאפשר שאילתות מדויקות כמו "איזו טיסה הזמנתי לפריז ביום שלישי?"

## יישום ואחסון זיכרון

יישום זיכרון לסוכני בינה מלאכותית כרוך בתהליך שיטתי של **ניהול זיכרון** הכולל יצירה, אחסון, אחזור, אינטגרציה, עדכון ואפילו "שכחה" (או מחיקה) של מידע. אחזור הוא היבט קריטי במיוחד.

### כלי זיכרון מתמחים

#### Mem0

דרך לאחסן ולנהל זיכרון סוכן היא באמצעות כלים מתמחים כגון Mem0. Mem0 פועל כשכבת זיכרון מתמשכת, ומאפשר לסוכנים לזכור אינטראקציות רלוונטיות, לאחסן העדפות משתמש והקשרים עובדתיים, וללמוד מהצלחות וכישלונות לאורך זמן. הרעיון הוא שסוכנים חסרי מצב יהפכו לסוכנים עם מצב.

המערכת עובדת דרך **צינור זיכרון דו-שלבי: חילוץ ועדכון**. תחילה, הודעות שנוספו לשרשור הסוכן נשלחות לשירות Mem0, שמפעיל מודל שפה גדול (LLM) לסיכום היסטוריית שיחה וחילוץ זיכרונות חדשים. בהמשך, שלב העדכון המונחה LLM קובע אם להוסיף, לשנות או למחוק את הזיכרונות, ולאחסן אותם במאגר מידע היברידי שיכול לכלול מאגרי וקטורים, גרפים ומאגרי מפתחות-ערכים. המערכת תומכת גם בסוגי זיכרון שונים ויכולה לשלב זיכרון מבוסס גרף לניהול יחסים בין ישויות.

#### Cognee

גישה חזקה נוספת היא שימוש ב-**Cognee**, זיכרון סמנטי פתוח לסוכני AI שהופך נתונים מובנים ובלתי מובנים לגרפי ידע ניתנים לשאילתא מגובים בהטמעות. Cognee מספק **ארכיטקטורת דו-מחסנית** המשלבת חיפוש דמיון וקטורי עם יחסי גרף, ומאפשר לסוכנים להבין לא רק מה מידע דומה, אלא איך מושגים קשורים זה לזה.

המערכת מצטיינת ב**אחזור היברידי** המשלב דמיון וקטורי, מבנה גרפי, והיגיון LLM - מחיפוש בערימות גולמיות ועד מענה לשאלות מודע גרף. המערכת שומרת על **זיכרון חי** שמתפתח וצומח תוך שמירה על היותו נגיש כשגרף מחובר אחד, ותומכת הן בהקשר סשן קצר טווח והן בזיכרון מתמשך ארוך טווח.

מדריך המחברת של Cognee ([13-agent-memory-cognee.ipynb](./13-agent-memory-cognee.ipynb)) מדגים בנייה של שכבת זיכרון מאוחדת זו, עם דוגמאות מעשיות של קליטת מקורות נתונים מגוונים, הצגת גרף הידע, וביצוע שאילתות עם אסטרטגיות חיפוש שונות המותאמות לצרכי סוכן ספציפי.

### אחסון זיכרון עם RAG

מעבר לכלי זיכרון מתמחים כמו Mem0, ניתן לנצל שירותי חיפוש חזקים כמו **Azure AI Search כמעין backend לאחסון ואחזור זיכרונות**, במיוחד עבור RAG מובנה.

זה מאפשר ליסד את תגובות הסוכן על בסיס הנתונים שלך, ולוודא תגובות רלוונטיות ומדויקות יותר. Azure AI Search יכול לשמש לאחסון זיכרונות טיולים ספציפיים למשתמש, קטלוגי מוצרים, או כל ידע תחומי אחר.

Azure AI Search תומך ביכולות כמו **RAG מובנה**, שמצטיין בחילוץ ואחזור מידע צפוף ומובנה ממאגרי מידע גדולים כמו היסטוריות שיחות, אימיילים או תמונות. זה מספק "דיוק וזכירה על-אנושיים" בהשוואה לגישות קלאסיות של חיתוך טקסט והטמעות.

## הפיכת סוכני AI למשתפרים בעצמם

תבנית נפוצה לסוכנים משתפרים כוללת הצגת **"סוכן ידע"** נפרד. סוכן זה עוקב אחרי השיחה הראשית בין המשתמש לסוכן הראשי. תפקידו:

1. **לזהות מידע בעל ערך**: לקבוע אם חלק מהשיחה כדאי לשמור כידע כללי או כהעדפת משתמש ספציפית.

2. **לחלץ ולסכם**: לדלות את הלמידה או ההעדפה החשובה מתוך השיחה.

3. **לאחסן בבסיס ידע**: לשמר מידע זה, לעיתים במאגר וקטורים, כדי שיהיה ניתן לאחזרו מאוחר יותר.

4. **להעשיר שאילתות עתידיות**: כאשר המשתמש יוזם שאילתה חדשה, סוכן הידע מאחזר מידע רלוונטי ושוברץ לתוך הקלט, ומספק הקשר חיוני לסוכן הראשי (בדומה ל-RAG).

### אופטימיזציות לזיכרון

• **ניהול השהיה**: על מנת לא לעכב את האינטראקציות עם המשתמש, מודל זול ומהיר יותר יכול לשמש תחילה כדי לבדוק במהירות אם המידע שווה אחסון או אחזור, ולקרוא רק במידת הצורך לתהליך חילוץ/אחזור מורכב יותר.

• **תחזוקת בסיס ידע**: עבור בסיס ידע שגדל, מידע שמשמש פחות לעיתים יכול להיות מועבר לאחסון "קר" כדי לנהל עלויות.

## יש לכם עוד שאלות על זיכרון סוכנים?

הצטרפו ל-[Azure AI Foundry Discord](https://aka.ms/ai-agents/discord) כדי להיפגש עם לומדים נוספים, להשתתף בשעות משרד ולקבל מענה לשאלותיכם על סוכני בינה מלאכותית.

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**הצהרת זכויות ושימוש**:  
מסמך זה תורגם באמצעות שירות תרגום מבוסס בינה מלאכותית [Co-op Translator](https://github.com/Azure/co-op-translator). למרות שאנו שואפים לדיוק, יש לקחת בחשבון כי תרגומים אוטומטיים עלולים להכיל שגיאות או אי-דיוקים. המסמך המקורי בשפת המקור שלו הוא המקור המורשה. למידע חשוב וקריטי מומלץ להשתמש בתרגום מקצועי שנערך על ידי אדם. אנו לא נושאים באחריות לכל אי-הבנה או פרשנות שגויה הנובעות משימוש בתרגום זה.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->