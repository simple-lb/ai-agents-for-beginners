# الذاكرة لوكلاء الذكاء الاصطناعي  
[![Agent Memory](../../../translated_images/ar/lesson-13-thumbnail.959e3bc52d210c64.webp)](https://youtu.be/QrYbHesIxpw?si=qNYW6PL3fb3lTPMk)

عند مناقشة الفوائد الفريدة لإنشاء وكلاء الذكاء الاصطناعي، يتم التركيز بشكل رئيسي على شيئين: القدرة على استدعاء الأدوات لإكمال المهام والقدرة على التحسن مع مرور الوقت. الذاكرة هي أساس لإنشاء وكيل ذاتي التحسين يمكنه تقديم تجارب أفضل لمستخدمينا.

في هذا الدرس، سنلقي نظرة على ما هي الذاكرة لوكلاء الذكاء الاصطناعي وكيف يمكننا إدارتها واستخدامها لصالح تطبيقاتنا.

## مقدمة

سيغطي هذا الدرس:

• **فهم ذاكرة وكيل الذكاء الاصطناعي**: ما هي الذاكرة ولماذا هي ضرورية للوكلاء.

• **تنفيذ وتخزين الذاكرة**: طرق عملية لإضافة قدرات الذاكرة إلى وكلاء الذكاء الاصطناعي لديك، مع التركيز على الذاكرة قصيرة وطويلة الأمد.

• **جعل وكلاء الذكاء الاصطناعي ذاتي التحسين**: كيف تمكن الذاكرة الوكلاء من التعلم من التفاعلات السابقة والتحسن مع مرور الوقت.

## التنفيذات المتاحة

يتضمن هذا الدرس درسين شاملين في دفاتر الملاحظات:

• **[13-agent-memory.ipynb](./13-agent-memory.ipynb)**: تنفيذ الذاكرة باستخدام Mem0 وAzure AI Search مع إطار Semantic Kernel

• **[13-agent-memory-cognee.ipynb](./13-agent-memory-cognee.ipynb)**: تنفيذ الذاكرة المنظمة باستخدام Cognee، مع بناء تلقائي للرسم المعرفي المدعوم بالتضمينات، تصور الرسم، والاسترجاع الذكي

## أهداف التعلم

بعد إكمال هذا الدرس، ستعرف كيف:

• **تمييز بين أنواع مختلفة من ذاكرة وكيل الذكاء الاصطناعي**، بما في ذلك الذاكرة العاملة، قصيرة الأمد، وطويلة الأمد، بالإضافة إلى أشكال متخصصة مثل الذاكرة الشخصية والذاكرة الحلقية.

• **تنفيذ وإدارة الذاكرة قصيرة وطويلة الأمد للوكلاء** باستخدام إطار Semantic Kernel، مع الاستفادة من أدوات مثل Mem0، Cognee، ذاكرة Whiteboard، والتكامل مع Azure AI Search.

• **فهم المبادئ وراء وكلاء الذكاء الاصطناعي ذاتي التحسين** وكيف تسهم أنظمة إدارة الذاكرة القوية في التعلم المستمر والتكيف.

## فهم ذاكرة وكيل الذكاء الاصطناعي

في جوهرها، **تشير الذاكرة لوكلاء الذكاء الاصطناعي إلى الآليات التي تسمح لهم بالاحتفاظ بالمعلومات واسترجاعها**. يمكن أن تكون هذه المعلومات تفاصيل محددة عن محادثة، تفضيلات المستخدم، أفعال سابقة، أو حتى أنماط مكتسبة.

بدون الذاكرة، غالبًا ما تكون تطبيقات الذكاء الاصطناعي بلا حالة، مما يعني أن كل تفاعل يبدأ من الصفر. هذا يؤدي إلى تجربة مستخدم متكررة ومحبطه حيث "ينسى" الوكيل السياق أو التفضيلات السابقة.

### لماذا الذاكرة مهمة؟

ذكاء الوكيل مرتبط بشدة بقدرته على استرجاع واستخدام المعلومات السابقة. تسمح الذاكرة للوكلاء بأن يكونوا:

• **انعكاسيين**: يتعلمون من الأفعال والنتائج السابقة.

• **تفاعليين**: يحافظون على السياق خلال محادثة مستمرة.

• **استباقيين ومتفاعلين**: يتوقعون الاحتياجات أو يستجيبون بشكل مناسب بناءً على البيانات التاريخية.

• **مستقلين**: يعملون بشكل أكثر استقلالية بالاعتماد على المعرفة المخزنة.

الهدف من تنفيذ الذاكرة هو جعل الوكلاء أكثر **موثوقية وقدرة**.

### أنواع الذاكرة

#### الذاكرة العاملة

فكر في هذا كقطعة ورق مسودة يستخدمها الوكيل خلال مهمة أو عملية تفكير واحدة جارية. تحتفظ بالمعلومات الفورية اللازمة لحساب الخطوة التالية.

بالنسبة لوكلاء الذكاء الاصطناعي، غالبًا ما تلتقط الذاكرة العاملة المعلومات الأكثر صلة من المحادثة، حتى لو كانت سجل الدردشة الكامل طويلًا أو مقتطعًا. تركز على استخراج العناصر الرئيسية مثل المتطلبات، المقترحات، القرارات، والأفعال.

**مثال على الذاكرة العاملة**

في وكيل حجز سفر، قد تلتقط الذاكرة العاملة طلب المستخدم الحالي، مثل "أريد حجز رحلة إلى باريس". يتم الاحتفاظ بهذا الطلب المحدد في سياق الوكيل الفوري لتوجيه التفاعل الحالي.

#### الذاكرة قصيرة الأمد

يحتفظ هذا النوع من الذاكرة بالمعلومات طوال مدة محادثة واحدة أو جلسة. إنها سياق الدردشة الحالية، مما يسمح للوكيل بالرجوع إلى الأدوار السابقة في الحوار.

**مثال على الذاكرة قصيرة الأمد**

إذا سأل المستخدم، "كم تكلفة رحلة طيران إلى باريس؟" ثم تابع بسؤال "ماذا عن الإقامة هناك؟"، تضمن الذاكرة قصيرة الأمد أن الوكيل يعرف أن "هناك" تشير إلى "باريس" في نفس المحادثة.

#### الذاكرة طويلة الأمد

هي المعلومات التي تدوم عبر عدة محادثات أو جلسات. تتيح للوكلاء تذكر تفضيلات المستخدم، التفاعلات التاريخية، أو المعرفة العامة خلال فترات ممتدة. هذا مهم للتخصيص.

**مثال على الذاكرة طويلة الأمد**

قد تخزن الذاكرة طويلة الأمد معلومات مثل "بن يحب التزلج والأنشطة الخارجية، يحب القهوة مع منظر جبل، ويريد تجنب المنحدرات المتقدمة بسبب إصابة سابقة". تؤثر هذه المعلومة، المكتسبة من التفاعلات السابقة، على التوصيات في جلسات تخطيط السفر المستقبلية، مما يجعلها مخصصة للغاية.

#### الذاكرة الشخصية

يساعد هذا النوع المتخصص من الذاكرة الوكيل على تطوير "شخصية" أو "هوية" متسقة. يسمح للوكيل بتذكر تفاصيل عن نفسه أو دوره المقصود، مما يجعل التفاعلات أكثر سلاسة وتركيزًا.

**مثال على الذاكرة الشخصية**

إذا صُمم وكيل السفر ليكون "خبير تخطيط تزلج"، فقد تعزز الذاكرة الشخصية هذا الدور، مؤثرة على ردوده لتتماشى مع نبرة وخبرة الخبير.

#### الذاكرة الحلقية / سير العمل

تخزن هذه الذاكرة تسلسل الخطوات التي يتبعها الوكيل خلال مهمة معقدة، بما في ذلك النجاحات والإخفاقات. إنها تشبه تذكر "حلقات" أو تجارب سابقة للتعلم منها.

**مثال على الذاكرة الحلقية**

إذا حاول الوكيل حجز رحلة طيران محددة لكنه فشل بسبب عدم التوفر، يمكن للذاكرة الحلقية تسجيل هذا الفشل، مما يسمح للوكيل بمحاولة رحلات بديلة أو إعلام المستخدم بالمشكلة بشكل أكثر وعيًا خلال محاولة لاحقة.

#### ذاكرة الكيانات

تشمل هذه الذاكرة استخراج وتذكر كيانات محددة (مثل الأشخاص، الأماكن، الأشياء) والأحداث من المحادثات. تتيح للوكيل بناء فهم منظم للعناصر الرئيسية التي نوقشت.

**مثال على ذاكرة الكيانات**

من محادثة عن رحلة سابقة، قد يستخرج الوكيل "باريس"، "برج إيفل"، و"عشاء في مطعم Le Chat Noir" ككيانات. في تفاعل مستقبلي، يمكن للوكيل استرجاع "Le Chat Noir" وعرض إجراء حجز جديد هناك.

#### RAG منظم (التوليد المعزز بالاسترجاع المنظم)

بينما RAG هو تقنية أوسع نطاقًا، يتم تسليط الضوء على "RAG المنظم" كتقنية ذاكرة قوية. تستخرج معلومات مكثفة ومنظمة من مصادر مختلفة (محادثات، رسائل بريد إلكتروني، صور) وتستخدمها لتعزيز الدقة والاستدعاء والسرعة في الردود. على عكس RAG الكلاسيكي الذي يعتمد فقط على التشابه الدلالي، يعمل RAG المنظم مع الهيكل الأساسي للمعلومات.

**مثال على RAG المنظم**

بدلاً من مجرد مطابقة كلمات رئيسية، يمكن لـ RAG المنظم تحليل تفاصيل الرحلة (الوجهة، التاريخ، الوقت، شركة الطيران) من بريد إلكتروني وتخزينها بطريقة منظمة. هذا يسمح باستعلامات دقيقة مثل "أي رحلة حجزتها إلى باريس يوم الثلاثاء؟"

## تنفيذ وتخزين الذاكرة

يشمل تنفيذ الذاكرة لوكلاء الذكاء الاصطناعي عملية منظمة لإدارة الذاكرة، والتي تتضمن إنشاء، تخزين، استرجاع، دمج، تحديث، وحتى "نسيان" (أو حذف) المعلومات. الاسترجاع هو جانب مهم بشكل خاص.

### أدوات الذاكرة المتخصصة

#### Mem0

طريقة واحدة لتخزين وإدارة ذاكرة الوكيل هي استخدام أدوات متخصصة مثل Mem0. يعمل Mem0 كطبقة ذاكرة دائمة، مما يسمح للوكلاء باسترجاع التفاعلات ذات الصلة، تخزين تفضيلات المستخدم والسياق الواقعي، والتعلم من النجاحات والإخفاقات مع مرور الوقت. الفكرة هنا هي تحويل الوكلاء عديمي الحالة إلى وكلاء ذوي حالة.

يعمل عبر **خط أنابيب ذاكرة من مرحلتين: الاستخراج والتحديث**. أولاً، تُرسل الرسائل المُضافة إلى سلسلة الوكيل إلى خدمة Mem0، التي تستخدم نموذج لغة كبير (LLM) لتلخيص تاريخ المحادثة واستخراج ذكريات جديدة. بعد ذلك، تحدد مرحلة التحديث التي يقودها LLM ما إذا كان يجب إضافة، تعديل، أو حذف هذه الذكريات، مع تخزينها في مخزن بيانات هجيني قد يشمل قواعد بيانات المتجهات، الرسوم البيانية، والقيم المفتاحية. يدعم هذا النظام أيضًا أنواعًا مختلفة من الذاكرة ويمكنه دمج ذاكرة الرسم البياني لإدارة العلاقات بين الكيانات.

#### Cognee

نهج قوي آخر هو استخدام **Cognee**، ذاكرة دلالية مفتوحة المصدر لوكلاء الذكاء الاصطناعي تحوّل البيانات المنظمة وغير المنظمة إلى رسوم معرفية قابلة للاستعلام مدعومة بالتضمينات. توفر Cognee **هيكل تخزين مزدوج** يجمع بين بحث التشابه المتجهي وعلاقات الرسم البياني، مما يمكّن الوكلاء من فهم ليس فقط ما هي المعلومات المتشابهة، ولكن كيف ترتبط المفاهيم ببعضها.

يتفوق في **الاسترجاع الهجين** الذي يمزج بين تشابه المتجهات، هيكل الرسم البياني، واستدلال LLM - من البحث في القطع الأصلية الخام حتى الإجابة على الأسئلة الواعية بالرسم البياني. يحتفظ النظام بـ **ذاكرة حية** تتطور وتنمو بينما تبقى قابلة للاستعلام كرسمة معرفية واحدة متصلة، تدعم كلًا من سياق الجلسة قصيرة الأمد والذاكرة الدائمة طويلة الأمد.

يوضح الدرس في دفتر ملاحظات Cognee ([13-agent-memory-cognee.ipynb](./13-agent-memory-cognee.ipynb)) بناء هذه الطبقة الموحدة للذاكرة، مع أمثلة عملية على استيعاب مصادر بيانات متنوعة، تصور الرسم المعرفي، والاستعلام بأساليب بحث مختلفة مخصصة لاحتياجات الوكيل المحددة.

### تخزين الذاكرة باستخدام RAG

بعيدًا عن أدوات الذاكرة المتخصصة مثل mem0، يمكنك الاستفادة من خدمات البحث القوية مثل **Azure AI Search كواجهة خلفية لتخزين واسترجاع الذكريات**، خاصة للـ RAG المنظم.

هذا يسمح لك بتأسيس ردود وكيلك ببياناتك الخاصة، مما يضمن إجابات أكثر صلة ودقة. يمكن استخدام Azure AI Search لتخزين ذكريات السفر الخاصة بالمستخدم، كتالوجات المنتجات، أو أي معرفة متخصصة أخرى.

يدعم Azure AI Search قدرات مثل **RAG المنظم**، الذي يتفوق في استخراج واسترجاع معلومات مكثفة ومنظمة من مجموعات بيانات كبيرة مثل تاريخ المحادثات، البريد الإلكتروني، أو حتى الصور. وهذا يوفر "دقة واستدعاء فوق بشري" مقارنة بأساليب تقطيع النصوص التقليدية والتضمين.

## جعل وكلاء الذكاء الاصطناعي ذاتي التحسين

نمط شائع للوكلاء ذاتي التحسين يتضمن إدخال **"وكيل المعرفة"**. هذا الوكيل المنفصل يراقب المحادثة الرئيسية بين المستخدم والوكيل الأساسي. وظيفته هي:

1. **تحديد المعلومات القيمة**: تحديد ما إذا كان أي جزء من المحادثة يستحق الحفظ كمعرفة عامة أو تفضيل مستخدم محدد.

2. **الاستخلاص والتلخيص**: استخلاص التعلم أو التفضيل الأساسي من المحادثة.

3. **التخزين في قاعدة معرفة**: حفظ هذه المعلومات المستخلصة، غالبًا في قاعدة بيانات متجهية، ليتم استرجاعها لاحقًا.

4. **تعزيز الاستعلامات المستقبلية**: عند بدء المستخدم استعلام جديد، يسترجع وكيل المعرفة المعلومات المخزنة ذات الصلة ويُلحقها بموجه المستخدم، موفرًا سياقًا حاسمًا للوكيل الأساسي (مماثل لـ RAG).

### تحسينات للذاكرة

• **إدارة الكمون**: لتجنب إبطاء تفاعلات المستخدم، يمكن استخدام نموذج أرخص وأسرع في البداية للتحقق بسرعة مما إذا كانت المعلومات تستحق التخزين أو الاسترجاع، مع استدعاء عملية الاستخلاص/الاسترجاع المعقدة فقط عند الضرورة.

• **صيانة قاعدة المعرفة**: لقاعدة معرفة متنامية، يمكن نقل المعلومات الأقل استخدامًا إلى "تخزين بارد" لإدارة التكاليف.

## هل لديك المزيد من الأسئلة حول ذاكرة الوكلاء؟

انضم إلى [Azure AI Foundry Discord](https://aka.ms/ai-agents/discord) للتواصل مع متعلمين آخرين، حضور ساعات العمل، والحصول على إجابات لأسئلتك حول وكلاء الذكاء الاصطناعي.

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**تنويه**:  
تمت ترجمة هذا المستند باستخدام خدمة الترجمة الآلية [Co-op Translator](https://github.com/Azure/co-op-translator). بينما نسعى لتحقيق الدقة، يرجى العلم أن الترجمات الآلية قد تحتوي على أخطاء أو عدم دقة. يجب اعتبار المستند الأصلي بلغته الأصلية المصدر الرسمي والموثوق. للمعلومات الحيوية، يُفضل الاعتماد على الترجمة البشرية المحترفة. نحن غير مسؤولين عن أي سوء فهم أو تفسير خاطئ ناتج عن استخدام هذه الترجمة.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->